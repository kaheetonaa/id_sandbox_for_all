<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <title>iD</title>
  <link rel='stylesheet' href='dist/iD.css'>
  <link rel='icon' type='image/png' href='data:image/png;base64,iVBORw0KGgo='>
  <meta name='viewport'
    content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no' />
  <meta name='apple-mobile-web-app-capable' content='yes' />
  <meta name='apple-mobile-web-app-status-bar-style' content='black-translucent' />
  <style type='text/css'>
    /* apply document-level styling to standalone iD only */
    html,
    body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      /* disable elastic page bounce upon scroll */
      overflow: hidden;
    }

    #sidepane {
      width: 20%;
      height: 100%;
      background-color: rgb(255, 255, 255);
      z-index: 10;
      position: absolute;
      right: 0;
      top: 0;
      overflow: scroll
    }

    #map {
      aspect-ratio: 1 / 1;
    }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

</head>
<div id='sidepane'>
  <div style="padding: 5%">
    <h1>Sandbox for OSM editting</h1>
    <div id="map"></div>
    <script>
      var hash;

      var result;

      const map = L.map('map').setView([0, 0], 1);

      const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
      }).addTo(map);

      
      function getView() {
        hash = window.location.hash.substr(1);
        if (window.location.hash) {
          result = hash.split('&').reduce(function (res, item) {
            var parts = item.split('=');
            res[parts[0]] = parts[1];
            return res;
          }, {});
          coordinate=result['map'].split('/')
          map.setView(new L.LatLng(Number(coordinate[1]), Number(coordinate[2])), Number(coordinate[0])-1);

          // Fragment exists
        } else {
          console.log('no!')
          // Fragment doesn't exist
        }
      }
      setInterval(getView, 2000);

    </script>
    <p>
      Lorem ipsum odor amet, consectetuer adipiscing elit. Eleifend mattis blandit fringilla urna interdum. Parturient
      accumsan amet justo primis; viverra sodales arcu. Mauris erat quisque semper etiam ad metus cursus. Nascetur nam
      volutpat consequat amet at dictum felis. Nascetur suscipit urna ad curae cursus. Dui justo pellentesque himenaeos
      iaculis sociosqu venenatis. Conubia cubilia netus mi placerat nam. Parturient faucibus proin in semper; purus
      molestie aptent tellus?

      Senectus tincidunt ante habitasse tristique pretium? Blandit porttitor varius facilisi non primis nulla duis
      maximus. Asuscipit cras quis sociosqu velit accumsan pretium dis. Tellus luctus nunc nascetur ultrices curae porta
      porttitor. Class posuere aliquam elementum dui egestas sit congue tempor. Risus ex imperdiet enim convallis leo
      vehicula ac ante. Massa penatibus iaculis at maximus finibus. Etiam dis lacus hendrerit justo mollis parturient.
      Aenean et interdum gravida tempus egestas parturient vivamus.

      Per fames enim lorem litora mi aliquet suscipit vulputate risus. Sapien lectus massa sagittis netus blandit
      phasellus lobortis. Metus suspendisse mus vivamus iaculis pharetra justo donec amet congue. Ultricies consectetur
      class a dolor luctus; orci ac. Elit tempus gravida scelerisque natoque natoque duis condimentum iaculis pharetra.
      Iaculis ullamcorper lectus; tristique porta magnis netus nisi pulvinar. Mus ac nullam duis montes aliquet
      malesuada. Tempor donec nisi nunc pellentesque montes sapien.

      Etiam sapien ligula condimentum ridiculus facilisis imperdiet nullam dictum. Felis congue turpis dis luctus quis
      facilisis sed porta accumsan. Per condimentum porta viverra lacus congue convallis adipiscing. Torquent nulla
      porta quis sit orci orci cras efficitur. Finibus in hendrerit dolor himenaeos consectetur sollicitudin parturient.
      Dapibus ultrices ultricies dictumst vulputate massa imperdiet. Elementum eros libero tincidunt tellus magnis a.

      Iaculis vivamus nisi mi sit dis. Lacinia varius phasellus cubilia, diam convallis cubilia. Dis proin eros quisque
      ligula tempor etiam rhoncus. Fringilla purus tincidunt elit odio ligula diam. Aliquam class class conubia
      adipiscing habitasse natoque. Orci nec dis vulputate bibendum justo lorem interdum turpis. Metus hac cubilia
      suspendisse habitasse aliquam cursus. Purus praesent tellus interdum nullam dictum vulputate maximus.
    </p>



  </div>
</div>

<body>
  <div id='id-container'></div>

  <script>
    var container = document.getElementById('id-container');
    var newScript = document.createElement('script');
    newScript.type = 'text/javascript';
    newScript.onload = checkScript;
    newScript.onerror = checkScript;
    newScript.src = 'dist/iD.js';

    document.getElementsByTagName('head')[0].appendChild(newScript);


    function checkScript() {
      //if (typeof iD === 'undefined' || !iD.utilDetect().support) {
      //container.innerHTML = 'Sorry, your browser is not currently supported. Please use another <a href="https://github.com/openstreetmap/iD#basics">browser</a> or <a href="https://wiki.openstreetmap.org/wiki/Editors">editor</a> to contribute to the map.';
      //container.style.padding = '20px';

      //} else {
      var context = iD.coreContext()
        .assetPath('dist/')
        .containerNode(container);
      window.context = window.id = context;  // for debugging
      context.init();

      // disable boundaries (unless we have an explicit disable_features list)
      var q = iD.utilStringQs(window.location.hash);
      if (!q.hasOwnProperty('disable_features')) {
        context.features().disable('boundaries');
      }
      //}
    }
  </script>
</body>

</html>